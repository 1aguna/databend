[workspace]
members = [
    # Common
    "common/arrow",
    "common/building",
    "common/cache",
    "common/cache",
    "common/clickhouse-srv",
    "common/datablocks",
    "common/datavalues",
    "common/exception",
    "common/functions",
    "common/infallible",
    "common/io",
    "common/management",
    "common/metatypes",
    "common/planners",
    "common/profiling",
    "common/progress",
    "common/raft-store",
    "common/runtime",
    "common/streams",
    "common/exception",
    "common/tracing",
    "common/profiling",
    "common/kv-apis/util",
    "common/kv-apis/api",
    "common/kv-apis/vo",
    "common/meta-apis/api",
    "common/dfs-apis/api",
    "common/dfs-apis/vo",
    "common/sled-store",
    "common/stoppable",
    "common/store-api-sdk",
    "common/streams",
    "common/tracing",
    "common/uniq_id",

    # Query
    "query",

    "metasrv",
    "kvlocal",

    # Store
    "store",

    # SQL Fuzz
    "query/fuzz",

    # CLI
    "cli"
]

[profile.release]
debug = 1
codegen-units = 1   # Reduce number of codegen units to increase optimizations.

[profile.bench]
debug = true

[profile.dev]
split-debuginfo = "unpacked"

[profile.dev.package]
addr2line = { opt-level = 3 }
adler = { opt-level = 3 }
backtrace = { opt-level = 3 }
gimli = { opt-level = 3 }
miniz_oxide = { opt-level = 3 }
object = { opt-level = 3 }
rustc-demangle = { opt-level = 3 }
